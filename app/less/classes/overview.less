@overview-toggle-width: 100px;
@overview-toggle-height: 150px;

@overview-subfield-margin: 5px;
@overview-popup-content-wrapper-padding: 15px;

@overview-toggle-laptop-width: @overview-toggle-width * 2 / 3;
@overview-toggle-laptop-height: @overview-toggle-height * 2 / 3;

@overview-toggle-tablet-width: @overview-toggle-width / 2;
@overview-toggle-tablet-height: @overview-toggle-height / 2;

@overview-toggle-phone-width: @overview-toggle-width / 3;
@overview-toggle-phone-height: @overview-toggle-height / 3;


// Subfield in main field.
.overview-subfield {
    position: absolute;

    // Ensure overview is below lyrics.
    z-index: 0;

    // This is necessary to avoid right scrollbar in phone width.
    width: ~"calc(100% - @{overview-subfield-margin} * 2 - @{overview-popup-content-wrapper-padding} * 2)";
    height: ~"calc(100% - @{overview-subfield-margin} * 2)";

    margin: @overview-subfield-margin;
    display: flex;
}

// Toggle container.
.overview-toggle-section {
    position: relative;
    width: @overview-toggle-width;
    height: 100%;
}

.overview-toggle-button {
    position: absolute;
    display: block;
    width: 100%;
    height: @overview-toggle-height;

    // Temporary.
    background-color: #848;
}

// Popup container.
.overview-popup-container {
    position: relative;
    flex-grow: 1;
}

.overview {
    &.popup-transition-group {
        position: absolute;
        display: block;
        width: 100%;
        height: 100%;
    }

    &.popup-content-wrapper {
        width: 75%;
        min-width: 200px;
        max-width: 450px;
        border-radius: 25px;
        padding: @overview-popup-content-wrapper-padding;
        margin-left: 25px;
    }
}

// Responsive rules.
.monitor-width, .laptop-width {

    // Overview is at the top in desktop.
    .overview-toggle-button, .overview.popup-content-wrapper {
        top: 0;
    }

    &.laptop-width {
        .overview-toggle-section {
            width: @overview-toggle-laptop-width;
        }

        .overview-toggle-button {
            height: @overview-toggle-laptop-height;
        }
    }
}

.tablet-width, .mini-width, .phone-width {

    // Overview is at the bottom in mobile.
    .overview-toggle-button, .overview.popup-content-wrapper {
        bottom: 0;
    }

    .overview-toggle-section {
        width: @overview-toggle-tablet-width;
    }

    .overview-toggle-button {
        height: @overview-toggle-tablet-height;
    }

    &.phone-width {

        .overview-subfield {
            flex-direction: column-reverse;
        }

        .overview-toggle-section {
            width: @overview-toggle-phone-width;
            height: @overview-toggle-phone-height;
        }

        .overview-toggle-button {
            // FIXME: Sometimes the text is still too large for certain phone heights.
            height: @overview-toggle-phone-height;
        }

        .overview-toggle-button, .overview.popup-content-wrapper {
            min-width: 100%;
        }

        .overview.popup-content-wrapper {
            margin-left: 0;
            margin-bottom: 25px;
        }
    }
}
