@import "./CarouselAnnotation.less";
@import "./CarouselNav.less";
@import "./CarouselToggle.less";

.carousel-scroll {
    display: flex;
    flex-direction: column-reverse;
    overflow-x: scroll;
    height: 100%;

    ._mobile_
    & {
        flex-direction: column;
    }
}

.carousel {
    position: absolute;
    left: 0;
    bottom: calc(~"-100% - @{carousel-position-variable}");
    width: 100vw;
    height: calc(~"100% + @{carousel-height-variable}");
    z-index: @zIndex__carousel;
    transition: bottom @animationDuration__slow,
                opacity @animationDuration__default;
    opacity: 0;

    ._mobile_
    & {
        transition: top @animationDuration__slow,
        opacity @animationDuration__default;
    }

    ._tablet_
    & {
        bottom: auto;
        top: calc(~"-100% - @{carousel-tablet-variable}");
        height: calc(~"100% + @{CarouselToggle-tablet-length}");
    }

    ._mini_
    & {
        top: calc(~"-100% - @{carousel-mini-variable}");
        height: calc(~"100% + @{CarouselToggle-mini-length}");
    }
}

/** Gradient mask does not work in IE or Edge, though. */
.desktop-carousel-gradient-mask {
    // Consider Golden Cord width.
    @monitor-carousel-gradient:
        linear-gradient(
            to left,
            black,
            transparent @golden-cord-width * 0.4,
            transparent @golden-cord-width * 0.6,
            black @golden-cord-width,
            black
        );
    ._monitor_
    & {
        // Not taken care of by autoprefixer, unfortunately.
        -webkit-mask-image: @monitor-carousel-gradient;
        mask-image: @monitor-carousel-gradient;
    }

    // Consider Uncanny Valley width.
    @laptop-carousel-gradient:
        linear-gradient(
            to left,
            black,
            transparent @uncanny-valley-width * 0.4,
            transparent @uncanny-valley-width * 0.6,
            black @uncanny-valley-width,
            black
        );
    ._laptop_
    & {
        // Not taken care of by autoprefixer, unfortunately.
        -webkit-mask-image: @laptop-carousel-gradient;
        mask-image: @laptop-carousel-gradient;
    }
}