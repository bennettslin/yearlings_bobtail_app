@paddingX__carouselAnnotation: 16px;

@paddingX__carouselAnnotation__hidden:
    @paddingX__carouselAnnotation * 2
    - @padding__annotation * 0.5;

.CarouselAnnotation {
    overflow-y: scroll;
    overflow-x: hidden;

    display: flex;
    flex-direction: column-reverse;

    min-width: @paddingX__carouselAnnotation__hidden;

    transition: min-width @animationDuration__default,
                opacity @animationDuration__default;

    ._mobile_
    & {
        flex-direction: column;
    }

    &:not(:last-child) {
        margin-right:
            @padding__annotation * 0.5
            - @paddingX__carouselAnnotation * 2;
    }

    .overrideAnimate
    & {
        transition: none;
    }

    /**
     * Override if hidden by single lyric column. Using specific selectors to
     * override styles for mini width as well.
     */
    .DomManager._song_._rightLyricColumnOnly_
    &.CarouselAnnotation__inLyricColumn__left,
    .DomManager._song_._leftLyricColumnOnly_
    &.CarouselAnnotation__inLyricColumn__right {

        min-width: @paddingX__carouselAnnotation__hidden;

        .annotation-title-block {
            max-height: 0;
        }
    }
}

.DomManager.narrative .CarouselAnnotation.narrative,
.DomManager.backstory .CarouselAnnotation.backstory,
.DomManager.observation .CarouselAnnotation.observation,
.DomManager.pun .CarouselAnnotation.pun,
.DomManager.reference .CarouselAnnotation.reference,
.DomManager.songwriting .CarouselAnnotation.songwriting,
.DomManager.portal .CarouselAnnotation.portal,
.DomManager.afterword .CarouselAnnotation.afterword {

    min-width: @minWidth__carouselAnnotation;

    .annotation-title-block {
        max-height: 2em; // Arbitrary value that's larger than its max height.
        min-height: @length__iconSmall;
        padding: @padding__annotation 0;
    }
}

.DomManager._mini_.narrative .CarouselAnnotation.narrative,
.DomManager._mini_.backstory .CarouselAnnotation.backstory,
.DomManager._mini_.observation .CarouselAnnotation.observation,
.DomManager._mini_.pun .CarouselAnnotation.pun,
.DomManager._mini_.reference .CarouselAnnotation.reference,
.DomManager._mini_.songwriting .CarouselAnnotation.songwriting,
.DomManager._mini_.portal .CarouselAnnotation.portal,
.DomManager._mini_.afterword .CarouselAnnotation.afterword {

    min-width: @minWidth__carouselAnnotation__mini;
}
