.UnitCard {
    position: relative;
}

.UnitCard__tab {
    position: absolute;
    height: $height__stanzaTypeTab;
    top: -$height__stanzaTypeTab;
    left: 0;

    padding: 0 5px;
    text-transform: uppercase;
    white-space: nowrap;

    font-size: 0.6em;

    &:before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        /**
        * Minimise overlap of tab and sheet box shadows. Not exactly accurate.
        */
        height: $height__stanzaTypeTab - 4px;
        z-index: -1;
    }

    &, &:before {
        border-top-left-radius: $borderRadius__narrow;
        border-top-right-radius: $borderRadius__narrow;
    }
}

.boxShadow__stanza,
.boxShadow__stanzaTab:before {
    box-shadow: $boxShadow__mainCard;
}

.UnitCard__tabTop {
    // Ensure that tab covers sheet.
    cursor: pointer;

    .DW__userAgentMobile
    & {
        transition: color $animationDuration__default;
    }

    &:hover {
        color: $colour__link__light;
    }

    &:active {
        color: $colour__linkHover__light;
    }
}

.UnitCard__subCard {
    $paddingX__offsetStanza: 17%;
    $marginY__offsetUnit__overlap: 6.5px;

    margin-top: -$marginY__offsetUnit__overlap;

    .Unit__column__main
    & {
        padding-left: $paddingX__offsetStanza;
    }

    // Fix the issue once and for all with subCards wrapping onto next line.
    white-space: nowrap;
}

.UnitCard__sheet {
    position: relative;

    padding: $js__margin__thin / 2;
    border-radius: $borderRadius__narrow;

    .Unit__column__main
    & {
        padding-left: $js__margin__thick;
    }

    .UnitCard__tabbed
    & {
        padding-top: $js__margin__thick * 1.5;
        border-top-left-radius: 0;
    }
}

.UnitCard__tabText {
    position: relative;
    top: 0.6em;
    padding-left: $js__margin__thin;
    padding-right: $js__margin__thin * 1.5;

    &:hover {
        animation: bounceHover $animationDuration__default;
    }

    &:active {
        transform: scale(0.9);
    }
}

$height: $height__stanzaTypeTab * 4;
.bgColour__unit__pattern {
    $degrees: 60deg;
    $lightShade: hsla(0, 0%, 69%, 0.125);
    $darkShade: hsla(0, 0%, 0%, 0.1);
    $width: $height * 0.5773; // Square root of 3 for 30, 60, 90 triangle.

    background-image:
    repeating-linear-gradient(
        180 - $degrees,
        $lightShade,
        $lightShade 1px,
        transparent 1px,
        transparent $height / 2
    ),
    repeating-linear-gradient(
        $degrees,
        $lightShade,
        $lightShade 1px,
        transparent 1px,
        transparent $height / 2
    ),
    linear-gradient(
        $degrees,
        $darkShade 25%,
        transparent 25%,
        transparent 75%,
        $darkShade 75%,
        $darkShade
    ),
    linear-gradient(
        180 - $degrees,
        $darkShade 25%,
        transparent 25%,
        transparent 75%,
        $darkShade 75%,
        $darkShade
    );
    background-size: $width $height;
    background-position: top left 5px;
}

.bgColour__unit__pattern__reverse {
    background-position: bottom left 5px;
}

.bgColour__stanzaType__refrain {
    background-color: $bgColour__stanzaType__refrain;
}
.bgColour__stanzaType__verse {
    background-color: $bgColour__stanzaType__verse;
}
.bgColour__stanzaType__prechorus {
    background-color: $bgColour__stanzaType__prechorus;
}
.bgColour__stanzaType__chorus {
    background-color: $bgColour__stanzaType__chorus;
}
.bgColour__stanzaType__postchorus {
    background-color: $bgColour__stanzaType__postchorus;
}
.bgColour__stanzaType__bridge {
    background-color: $bgColour__stanzaType__bridge;
}
.bgColour__stanzaType__coda {
    background-color: $bgColour__stanzaType__coda;
}
.bgColour__stanzaType__intro {
    background-color: $bgColour__stanzaType__instrumental;
}
.bgColour__stanzaType__solo {
    background-color: $bgColour__stanzaType__instrumental;
}
.bgColour__stanzaType__outro {
    background-color: $bgColour__stanzaType__instrumental;
}
.bgColour__stanzaType__rhyme {
    background-color: $bgColour__stanzaType__none;
}
.bgColour__stanzaType__backing {
    background-color: $bgColour__stanzaType__none;
}
.bgColour__stanzaType__response {
    background-color: $bgColour__stanzaType__none;
}